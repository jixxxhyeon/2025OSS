<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>상품관리</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <link rel="stylesheet" href="my.css">
</head>

<body>
  <nav class="header_nav navbar bg-white border-bottom">
    <div class="container layout_container">
      <a class="header_brand navbar-brand" href="index.html">My products</a>
    </div>
  </nav>

  <main class="main_area container layout_container py-4">
    <h2 class="main_title">Add Product</h2>

    <form id="addForm" onsubmit="return false;" class="form_wrap">
      <div class="row g-3 form_row">
        <div class="col-md-4">
          <label class="form-label">품목<span class="text-danger">*</span></label>
          <select class="form-select" id="품목" required>
            <option value="">선택하세요</option>
            <option>가전</option><option>식품</option><option>생활</option>
            <option>문구</option><option>가구</option>
          </select>
        </div>
        <div class="col-md-8">
          <label class="form-label">품명<span class="text-danger">*</span></label>
          <input type="text" id="품명" class="form-control" placeholder="예: 무선청소기" required>
        </div>
        <div class="col-md-4">
          <label class="form-label">가격(원)<span class="text-danger">*</span></label>
          <input type="number" id="가격" class="form-control" min="0" required>
        </div>
        <div class="col-md-4">
          <label class="form-label">수량(개)<span class="text-danger">*</span></label>
          <input type="number" id="수량" class="form-control" min="1" max="1000" required>
        </div>
        <div class="col-md-4">
          <label class="form-label">구매일<span class="text-danger">*</span></label>
          <input type="date" id="구매일" class="form-control" required>
        </div>
        <div class="col-md-6">
          <label class="form-label">재고 상태<span class="text-danger">*</span></label>
          <input type="text" id="재고" class="form-control" placeholder="재고있음 / 품절임박 등" required>
        </div>
      </div>

      <div class="form_btnGroup mt-4 d-flex gap-2">
        <button type="button" class="btn btn-primary" id="btnSubmit">확인</button>
        <a class="btn btn-outline-secondary" href="index.html">취소</a>
      </div>
    </form>
  </main>

  <script>
    function validateForm(){
        const item  = $('#품목').val();
        const name  = $('#품명').val().trim();
        const price = Number($('#가격').val());
        const qty   = Number($('#수량').val());
        const date  = $('#구매일').val();
        const stock = $('#재고').val().trim();

        if(!item) { 
            alert('품목은 필수입니다.'); 
            return false; 
        }                        
        if(name.length < 2) { 
            alert('품명은 2글자 이상 입력해주세요.'); 
            return false; 
        }  
        if(!(price >= 0 && price <= 10000000)) { 
            alert('가격 범위를 확인해주세요.'); 
            return false; 
        } 
        if(!(qty >= 1 && qty <= 1000)) { 
            alert('수량은 1~1000로 입력해주세요.'); 
            return false; 
        }  
        if(!/^\d{4}-\d{2}-\d{2}$/.test(date)) { 
            alert('구매일 형식이 올바르지 않습니다.'); 
            return false; 
        } 
        if(!stock) { 
            alert('재고 상태를 입력해주세요.'); 
            return false; 
        }              

        return true;
    }

    $('#btnSubmit').on('click', function(){
      if(!validateForm()) {
        return;
      }

      alert('게시물이 추가됩니다');
      window.location.href = 'index.html';
    });
  </script>
</body>
</html>
